(function(e,t,n,r){"use strict";e.fn.ajax_scroll=function(r){var i=0,s=e.extend({startPage:0,pagesToScroll:null,handleScroll:function(e,t){return!0},beforePageChanged:function(e,t){return!0},afterPageChanged:function(e,t){return!0},step:"10%",useScrollOptimization:!1,optimizationTimeout:500},r);return this.each(function(){function r(e,t,n,r,s){var o=parseFloat(t(e).height()),u=parseFloat(t(e).scrollTop()),a=e.self===n,f=a?parseFloat(t(r).height()):o,l=s.step.toString().indexOf("%")>-1?f/parseFloat(s.step.replace("%","")):parseFloat(s.step),c=a?o+u+l:u+l,h=c>i,p=!s.pagesToScroll||s.pagesToScroll&&s.startPage<s.pagesToScroll;c>=f&&h&&p&&(i=c,s.startPage=s.startPage+1,s.beforePageChanged(s.startPage,e)&&s.handleScroll(s.startPage,e)&&s.afterPageChanged(s.startPage,e))}var o=-1;e(this).on("scroll",function(){var i=this;s.useScrollOptimization?o===-1&&(o=setTimeout(function(){r(i,e,t,n,s),o=-1},s.optimizationTimeout)):r(i,e,t,n,s)})})}})(jQuery,window,document);