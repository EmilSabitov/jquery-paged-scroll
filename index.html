<!doctype html>
<!-- The Time Machine GitHub pages theme was designed and developed by Jon Rohan, on Feb 7, 2012. -->
<!-- Follow him for fun. http://twitter.com/jonrohan. Tail his code on http://github.com/jonrohan -->
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <link rel="stylesheet" href="stylesheets/stylesheet.css" media="screen"/>
    <link rel="stylesheet" href="stylesheets/pygment_trac.css"/>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/script.js"></script>

    <title>Jquery-paged-scroll</title>
    <meta name="description" content="jQuery plugin for scrolling paged result set.  ">

    <meta name="viewport" content="width=device-width,initial-scale=1">

</head>

<body>

<div class="wrapper">
<header>
    <h1 class="title">Jquery-paged-scroll</h1>
</header>
<div id="container">
<p class="tagline">jQuery plugin for scrolling paged result set.  </p>
<div id="main" role="main">
<div class="download-bar">
    <div class="inner">
        <a href="https://github.com/dimaxweb/jquery-paged-scroll/tarball/master" class="download-button tar"><span>Download</span></a>
        <a href="https://github.com/dimaxweb/jquery-paged-scroll/zipball/master" class="download-button zip"><span>Download</span></a>
        <a href="https://github.com/dimaxweb/jquery-paged-scroll" class="code">View Jquery-paged-scroll on GitHub</a>
    </div>
    <span class="blc"></span><span class="trc"></span>
</div>
<article class="markdown-body">
<h1>jquery-paged-scroll  - different approach for infinite scroll.Replace your old pagination easily.</h1>

<h2>Inspiration</h2>

<p>Today we have a couple of good jquery "infinite scroll" plugins ,so why I wrote another one ?</p>

<h3>Different approach - for different use case.</h3>

<p>Most of existing plugins rely on the fact that you already have some numeric paging implemented in order to query it through provided selector for current,next and previous page and loading this page inside some element or calling callback.
    </p><p>For <a href="www.keentour.com">my project</a> such approach was overhead, because I wanted only to display paged result set (json returned from public youtube and flickr api's) and replace current pagination using the "infinite scroll" interaction design pattern,where plugin will be responsible for calculation of current page according to scroll progress,so functionality can be reused.
    </p><p>I think the plugin will help to easily adopt infinite scroll  especially in cases when working with paged result retrieved through ajax call . Because of flexibility given by the fact that plugin just calling user callback ,also http POST can be used to retrieve results.</p>

<h3>Performance</h3>

<p>Performance optimizations -  attaching the handlers to scroll event need to be handled carefully by developer,because it can easily take the browser down.
    Don't believe me ? Just take a look on the  <a href="http://ejohn.org/blog/learning-from-twitter">John Resig article</a>,where he explains how Twitter became unusable because of primitive handling of scroll event.</p>

<h3>Multiple plugin instances</h3>

<p>Support for multiple plugins on the page listening on the scroll event of the same element,but preserving their own pagination state.
    Look on  this <a href="http://www.keentour.com/content/North-America/United-States/New-York">example</a>:
    We can see 2 tabs ("Videos" and "Photos"),code responsible for tab functionality subscribes to window scroll event via the plugin and provides the callback ,but only the the callback of "visible" tab is called.</p>

<h3>Scroll inside element</h3>

<p>Support scrolling on different elements,not only window scroll.
    div,p -  are supported and tested for now.</p>

<h2>Demo: </h2>
<a href="http://www.keentour.com/content/North-America">Real world example</a>.
<br><br>
<div>KeenTour Travel startup  -  uses plugin  to navigate through videos and photos using infinite scroll pattern.</div>
<h3>Playground,with debug to console enabled :</h3>
<a href="window.html">Scroll on window</a>
<div><a href="elements.html">Scroll inside element</a></div>

<h2>Getting Started</h2>

<p>Download the <a href="https://github.com/dimaxweb/jquery-paged-scroll/blob/master/dist/jquery-paged-scroll.min.js">production</a> or  <a href="https://github.com/dimaxweb/jquery-paged-scroll/blob/master/src/jquery-paged-scroll.js">development version</a>.</p>

<h2>Documentation</h2>

<h3>Options :</h3>

<div class="highlight"><pre>$('.selector').pagedScroll{
/*
   required
   custom  callback  which will be called with current page number.
*/
handleScroll:function (page, container, doneCallback) {

},

/*
required
amount of pixels or amount of percent of container <br>
(calculated to pixel by plugin) from bottom, to start scroll
*/
triggerFromBottom:'10%',

/*
 required
 element where content will be inserted
 */
 targetElement:null,

 /*
  /*
 html to show when loading
 */
 loading : {
  html  : '<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"paged-scroll-loading"</span><span class="nt">&gt;&lt;img</span> <span class="na">alt=</span><span class="s">"Loading..."</span><span class="s"></span> <span class="nt">/&gt;&lt;/div&gt;</span>'
 },
 optional,default is 0
 page number to start with
 */
 startPage:0,
 /*
 optional
 null means infinite scroll
 */
 pagesToScroll:null,

 /*  optional
 before page hook ,if returns false execution stops
 */
 beforePageChanged:function (page, container) {

 },

 /*
 optional
 after page scroll callback
 */
 afterPageChanged:function (page, container) {

 },
 /*
 optional
 NOT RECOMMENDED to CHANGE!!!
 default : true
 if scroll optimization used,
 plugin will not access DOM each time scroll is triggered
 and will save a lot of overhead,
 because of not calling callback logic each time
 */
 useScrollOptimization:true,
 /*
 timeout in milliseconds to use in order to check  if scroll change
 is significant enough to call the "handleScroll" callback
 */
 checkScrollChange:500,
 /*
 frequency to check that target html is checked
 */
 monitorChangeInterval : 300,
 /*
 if monitor target element where finally generated content is inserted

 */
 monitorTargetChange:true,
 /*
 if use debug
 */
 debug:false

 }

</pre></div>

<h2>Examples</h2>

<div class="highlight"><pre>
Call handleScroll function each time user scrolls reach the position
which is  : 10px   <br>from document bottom.
Call the callback until currentPageNumber < yourLogic.totalNumberOfPages.
Your logic inserts newly generated html to $('#element')DOM element.
<code>
$(window).paged_scroll({
        handleScroll:function (page,container,doneCallback) {
            yourLogic.getData(function(data){
              var html = yourLogic.parseData(data);
              $('#element').append(html);
            });


        },
        triggerFromBottom:'10px',
        targetElement : $('#element')
        loader:'<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"loader"</span><span class="nt">&gt;</span>Loading next page ...<span class="nt">&lt;/div&gt;</span>',
        pagesToScroll: yourLogic.totalNumberOfPages


    });
</code>
</pre>
</div>

<div class="highlight"><pre>
Scroll on DOM element supported
Call handleScroll function each time user scrolls reach the position <br>which equals to  : 10% of the target element.
Infinite scroll - because pagesToScroll is not specified.
Your logic will insert newly generated html to $('#element') DOM element.
<code>
$('#element').paged_scroll({
        handleScroll:function (page,container,doneCallback) {
            yourLogic.getData(function(data){
              var html = yourLogic.parseData(data);
              $('#element').append(html);
            });


        },
        triggerFromBottom:'10%',
        targetElement : $('#element')
        loader:'<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"loader"</span><span class="nt">&gt;</span>Loading next page ...<span class="nt">&lt;/div&gt;</span>'

    });
</code>
</pre>
</div>
<br>

<div class="highlight"><pre>
Your don't want that plugin will monitor the change of targetElement
and prefer to signal that content is loaded by calling  doneCallback().
<code>
$('#element').paged_scroll({
        handleScroll:function (page,container,doneCallback) {
            yourLogic.getData(function(data){
              var html = yourLogic.parseData(data);
              $('#element').append(html);
              doneCallback();
            });


        },
        triggerFromBottom:'10%',
        targetElement : $('#element')
        loader:'<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"loader"</span><span class="nt">&gt;</span>Loading next page ...<span class="nt">&lt;/div&gt;</span>',
        pagesToScroll: yourLogic.totalNumberOfPages,
        monitorTargetChange : false


    });
</code>
</pre></div>

<h2>Documentation</h2>

<p>The plugin API is quite simple and described above,but please take to your attention  :
    Plugin provides maximum flexibility in implementing callback ,but also need to know when your callback logic is in in progress and when done in order to ignore additional onscroll events which can occur.
    Plugin has 2 approaches to accomplish that :</p>

<ul>
    <li>Monitor the targetElement html and resume until the html is changed.We suggest that you callback will load new html into the target element.
     Behavior is enabled by default,you can disable it by providing : monitorTargetChange : false,but then you will need to use second approach.</li>
    <li>Callback function has parameter doneCallback which is passed to user code and you can just call it without any parameter to signal us you logic is done.</li>
</ul><h2>Coming soon</h2>

<p>Support for horizontal scroll</p>
</article>
</div>
</div>
<footer>
    <div class="owner">
        <p><a href="https://github.com/dimaxweb" class="avatar"><img src="https://secure.gravatar.com/avatar/eeb3f5a7c77473d9c7e39de28292de46?s=30&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png" width="48" height="48"/></a> <a href="https://github.com/dimaxweb">dimaxweb</a> maintains <a href="https://github.com/dimaxweb/jquery-paged-scroll">Jquery-paged-scroll</a></p>


    </div>
    <div class="creds">
        <small>This page generated using <a href="https://pages.github.com/">GitHub Pages</a><br/>theme by <a href="http://twitter.com/jonrohan/">Jon Rohan</a></small>
    </div>
</footer>
</div>
<div class="current-section">
    <a href="#top">Scroll to top</a>
    <a href="https://github.com/dimaxweb/jquery-paged-scroll/tarball/master" class="tar">tar</a><a href="https://github.com/dimaxweb/jquery-paged-scroll/zipball/master" class="zip">zip</a><a href="" class="code">source code</a>
    <p class="name"></p>
</div>


</body>
</html>
